import{hrefTo,navigate}from"../chunk-YFKH3BW3.mjs";import"../chunk-JT3VIYBO.mjs";import React,{PureComponent}from"react";var LEFT_BUTTON=0,isPlainLeftClick=e=>e.button===LEFT_BUTTON&&!e.altKey&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey,cancelled=(e,cb=_e=>{})=>{isPlainLeftClick(e)&&(e.preventDefault(),cb(e))},LinkTo=class extends PureComponent{constructor(){super(...arguments);this.state={href:"/"};this.updateHref=async()=>{let{kind,story}=this.props;if(kind&&story){let href=await hrefTo(kind,story);this.setState({href})}};this.handleClick=()=>{let{kind,story}=this.props;kind&&story&&navigate({kind,story})}}componentDidMount(){this.updateHref()}componentDidUpdate(prevProps){let{kind,story}=this.props;(prevProps.kind!==kind||prevProps.story!==story)&&this.updateHref()}render(){let{kind,story,children,...rest}=this.props,{href}=this.state;return React.createElement("a",{href,onClick:e=>cancelled(e,this.handleClick),...rest},children)}};LinkTo.defaultProps={kind:null,story:null,children:void 0};var react_default=LinkTo;export{react_default as default};
